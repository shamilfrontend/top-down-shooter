import{d as g,o as c,c as d,i as x,t as y,e as V,j as f,v,a as r,m as u,_ as h,u as k,f as _,h as w,w as E,r as S,g as C}from"./index-BjcpxiQA.js";const L={key:0,class:"form-error"},N=g({__name:"LoginForm",emits:["submit"],setup(b,{expose:i,emit:m}){const l=m,o=u(""),t=u(""),e=u("");function s(){if(e.value="",!o.value||!t.value){e.value="Заполните все поля";return}l("submit",o.value,t.value)}return i({setError:n=>e.value=n}),(n,a)=>(c(),d("form",{class:"login-form",onSubmit:x(s,["prevent"])},[e.value?(c(),d("div",L,y(e.value),1)):V("",!0),f(r("input",{"onUpdate:modelValue":a[0]||(a[0]=p=>o.value=p),type:"email",placeholder:"Email",class:"form-input",autocomplete:"email"},null,512),[[v,o.value]]),f(r("input",{"onUpdate:modelValue":a[1]||(a[1]=p=>t.value=p),type:"password",placeholder:"Пароль",class:"form-input",autocomplete:"current-password"},null,512),[[v,t.value]]),a[2]||(a[2]=r("button",{type:"submit",class:"form-btn"},"Войти",-1))],32))}}),B=h(N,[["__scopeId","data-v-f2612f80"]]),R={class:"auth-view"},D={class:"auth-card"},F={class:"auth-link"},I=g({__name:"LoginView",setup(b){const i=C(),m=k(),l=u(null);async function o(t,e){var s;try{await m.login(t,e),i.push({name:"home"})}catch(n){(s=l.value)==null||s.setError(n instanceof Error?n.message:"Ошибка входа")}}return(t,e)=>{const s=S("router-link");return c(),d("div",R,[r("div",D,[e[2]||(e[2]=r("h1",null,"Вход",-1)),_(B,{ref_key:"formRef",ref:l,onSubmit:o},null,512),r("p",F,[e[1]||(e[1]=w(" Нет аккаунта? ",-1)),_(s,{to:"/register"},{default:E(()=>[...e[0]||(e[0]=[w("Регистрация",-1)])]),_:1})])])])}}}),T=h(I,[["__scopeId","data-v-6fdfaf61"]]);export{T as default};

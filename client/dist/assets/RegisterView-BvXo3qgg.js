import{d as V,o as f,c as _,i as x,t as k,e as R,j as p,v as d,a as s,m as n,_ as b,u as E,f as g,h as y,w as S,r as C,g as N}from"./index-BjcpxiQA.js";const U={key:0,class:"form-error"},B=V({__name:"RegisterForm",emits:["submit"],setup(h,{expose:v,emit:c}){const i=c,u=n(""),a=n(""),e=n(""),r=n(""),t=n("");function m(){if(t.value="",!u.value||!a.value||!e.value){t.value="Заполните все поля";return}if(e.value.length<6){t.value="Пароль не менее 6 символов";return}if(e.value!==r.value){t.value="Пароли не совпадают";return}i("submit",u.value,a.value,e.value)}return v({setError:w=>t.value=w}),(w,o)=>(f(),_("form",{class:"register-form",onSubmit:x(m,["prevent"])},[t.value?(f(),_("div",U,k(t.value),1)):R("",!0),p(s("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>u.value=l),type:"email",placeholder:"Email",class:"form-input",autocomplete:"email"},null,512),[[d,u.value]]),p(s("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>a.value=l),type:"text",placeholder:"Имя пользователя",class:"form-input",autocomplete:"username"},null,512),[[d,a.value]]),p(s("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>e.value=l),type:"password",placeholder:"Пароль",class:"form-input",autocomplete:"new-password"},null,512),[[d,e.value]]),p(s("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>r.value=l),type:"password",placeholder:"Подтвердите пароль",class:"form-input",autocomplete:"new-password"},null,512),[[d,r.value]]),o[4]||(o[4]=s("button",{type:"submit",class:"form-btn"},"Зарегистрироваться",-1))],32))}}),D=b(B,[["__scopeId","data-v-016886ce"]]),F={class:"auth-view"},I={class:"auth-card"},M={class:"auth-link"},T=V({__name:"RegisterView",setup(h){const v=N(),c=E(),i=n(null);async function u(a,e,r){var t;try{await c.register(a,e,r),v.push({name:"home"})}catch(m){(t=i.value)==null||t.setError(m instanceof Error?m.message:"Ошибка регистрации")}}return(a,e)=>{const r=C("router-link");return f(),_("div",F,[s("div",I,[e[2]||(e[2]=s("h1",null,"Регистрация",-1)),g(D,{ref_key:"formRef",ref:i,onSubmit:u},null,512),s("p",M,[e[1]||(e[1]=y(" Уже есть аккаунт? ",-1)),g(r,{to:"/login"},{default:S(()=>[...e[0]||(e[0]=[y("Вход",-1)])]),_:1})])])])}}}),j=b(T,[["__scopeId","data-v-b315fad9"]]);export{j as default};

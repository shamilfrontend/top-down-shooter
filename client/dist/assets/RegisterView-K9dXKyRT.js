import{d as b,o as f,c as _,i as V,t as k,e as R,j as m,v as d,a,p as u,_ as h,u as E,f as g,h as y,w as S,r as C,g as N}from"./index-AYzDde7z.js";const U={key:0,class:"form-error"},B=b({__name:"RegisterForm",emits:["submit"],setup(x,{expose:c,emit:v}){const i=v,n=u(""),o=u(""),e=u(""),r=u(""),t=u("");function p(){if(t.value="",!n.value||!o.value||!e.value){t.value="Заполните все поля";return}if(e.value.length<6){t.value="Пароль не менее 6 символов";return}if(e.value!==r.value){t.value="Пароли не совпадают";return}i("submit",n.value,o.value,e.value)}return c({setError:w=>t.value=w}),(w,s)=>(f(),_("form",{class:"register-form",onSubmit:V(p,["prevent"])},[t.value?(f(),_("div",U,k(t.value),1)):R("",!0),m(a("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>n.value=l),type:"email",placeholder:"Email",class:"input-cs",autocomplete:"email"},null,512),[[d,n.value]]),m(a("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>o.value=l),type:"text",placeholder:"Имя пользователя",class:"input-cs",autocomplete:"username"},null,512),[[d,o.value]]),m(a("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>e.value=l),type:"password",placeholder:"Пароль",class:"input-cs",autocomplete:"new-password"},null,512),[[d,e.value]]),m(a("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>r.value=l),type:"password",placeholder:"Подтвердите пароль",class:"input-cs",autocomplete:"new-password"},null,512),[[d,r.value]]),s[4]||(s[4]=a("button",{type:"submit",class:"btn-cs btn-cs-primary",style:{width:"100%","margin-top":"4px"}},"Зарегистрироваться",-1))],32))}}),D=h(B,[["__scopeId","data-v-a1b5b3f2"]]),F={class:"auth-view"},I={class:"auth-card panel-cs"},M={class:"auth-link"},T=b({__name:"RegisterView",setup(x){const c=N(),v=E(),i=u(null);async function n(o,e,r){var t;try{await v.register(o,e,r),c.push({name:"home"})}catch(p){(t=i.value)==null||t.setError(p instanceof Error?p.message:"Ошибка регистрации")}}return(o,e)=>{const r=C("router-link");return f(),_("div",F,[a("div",I,[e[2]||(e[2]=a("h1",{class:"auth-title"},"РЕГИСТРАЦИЯ",-1)),g(D,{ref_key:"formRef",ref:i,onSubmit:n},null,512),a("p",M,[e[1]||(e[1]=y(" Уже есть аккаунт? ",-1)),g(r,{to:"/login"},{default:S(()=>[...e[0]||(e[0]=[y("Вход",-1)])]),_:1})])])])}}}),j=h(T,[["__scopeId","data-v-37da837d"]]);export{j as default};

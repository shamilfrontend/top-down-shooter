import{d as w,o as c,c as d,i as b,t as x,e as V,j as v,v as _,a as r,p as i,_ as g,u as k,f,h,w as E,r as S,g as C}from"./index-AYzDde7z.js";const L={key:0,class:"form-error"},N=w({__name:"LoginForm",emits:["submit"],setup(y,{expose:u,emit:m}){const l=m,s=i(""),t=i(""),e=i("");function o(){if(e.value="",!s.value||!t.value){e.value="Заполните все поля";return}l("submit",s.value,t.value)}return u({setError:n=>e.value=n}),(n,a)=>(c(),d("form",{class:"login-form",onSubmit:b(o,["prevent"])},[e.value?(c(),d("div",L,x(e.value),1)):V("",!0),v(r("input",{"onUpdate:modelValue":a[0]||(a[0]=p=>s.value=p),type:"email",placeholder:"Email",class:"input-cs",autocomplete:"email"},null,512),[[_,s.value]]),v(r("input",{"onUpdate:modelValue":a[1]||(a[1]=p=>t.value=p),type:"password",placeholder:"Пароль",class:"input-cs",autocomplete:"current-password"},null,512),[[_,t.value]]),a[2]||(a[2]=r("button",{type:"submit",class:"btn-cs btn-cs-primary",style:{width:"100%","margin-top":"4px"}},"Войти",-1))],32))}}),B=g(N,[["__scopeId","data-v-94e5e1a1"]]),R={class:"auth-view"},D={class:"auth-card panel-cs"},F={class:"auth-link"},I=w({__name:"LoginView",setup(y){const u=C(),m=k(),l=i(null);async function s(t,e){var o;try{await m.login(t,e),u.push({name:"home"})}catch(n){(o=l.value)==null||o.setError(n instanceof Error?n.message:"Ошибка входа")}}return(t,e)=>{const o=S("router-link");return c(),d("div",R,[r("div",D,[e[2]||(e[2]=r("h1",{class:"auth-title"},"ВХОД",-1)),f(B,{ref_key:"formRef",ref:l,onSubmit:s},null,512),r("p",F,[e[1]||(e[1]=h(" Нет аккаунта? ",-1)),f(o,{to:"/register"},{default:E(()=>[...e[0]||(e[0]=[h("Регистрация",-1)])]),_:1})])])])}}}),T=g(I,[["__scopeId","data-v-22488708"]]);export{T as default};
